<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>To do list</title>
    <style>
        input{
            margin-bottom: 5px;
        }
        .items{
            display: grid;
            grid-template-columns: 200px 10px;
            margin: 5px;
            font-size: large;
            cursor: default;
        }
        .contents{
            white-space: normal;
        }
        .checked{
            text-decoration: line-through;
        }
    </style>
</head>
<body>
    <h1>To do list</h1>
    <input type="text" autofocus>
    <button>+</button>
    <div id="list">

    </div>

    <script>
        document.querySelector('input').addEventListener('keyup', (event)=>{
            if(event.keyCode === 13){
                event.preventDefault();
                document.querySelector('button').click();
            }
        });

        document.querySelector('button').addEventListener('click', (event)=>{
            let inputContent = document.querySelector('input').value;
            let list = document.getElementById('list');

            let newItem = createDivIn(list);
            newItem.classList.add('items');

            let content = createDivIn(newItem);
            content.textContent = inputContent;
            content.classList.add('contents');
            content.addEventListener('click', (event)=>{
                if(event.target.classList.contains('checked')){
                    event.target.classList.remove('checked');
                }else{
                    event.target.classList.add('checked');
                }
            })

            let del = createDivIn(newItem);
            del.textContent = 'X';
            del.classList.add('del');
            del.addEventListener('click', (event)=>{
                delItem(event.target.parentNode);
            });

            document.querySelector('input').value = '';

        })
        function createDivIn(elem){
            return elem.appendChild(document.createElement('div'));
        }
        function delItem(elem){
            elem.parentNode.removeChild(elem);
        }
        
    </script>
</body>
</html>